<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>Qgis Modeler</title>
    <link rel="shortcut icon" href="./favicon.ico" />
    <link rel="stylesheet" href="./dist/reset.css" />
    <link rel="stylesheet" href="./dist/reveal.css" />
    <link rel="stylesheet" href="./_assets/stylesheets/pitch-theme.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/base16/zenburn.css" />

    <link rel="stylesheet" href="./_assets/slides/stylesheets/base-theme.css" />
    <link rel="stylesheet" href="./_assets/slides/stylesheets/base-white-theme.css" />
    <link rel="stylesheet" href="./_assets/slides/stylesheets/logo_white.png" />
    <link rel="stylesheet" href="./_assets/slides/stylesheets/opengisch-bright.css" />
    <link rel="stylesheet" href="./_assets/slides/stylesheets/opengisch-dark.css" />
    <link rel="stylesheet" href="./_assets/slides/stylesheets/pitch-theme.css" />
    <link rel="stylesheet" href="./_assets/slides/stylesheets/softteaching-theme.css" />
    <link rel="stylesheet" href="./_assets/slides/stylesheets/teaching-theme.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section data-markdown data-separator="\r?\n---\r?\n" data-separator-vertical="--v--">
          <textarea data-template>
            

## Processing in QGIS: Advanced Geospatial Analysis Techniques and Tools

---

### Workshop Objectives

- Introduction to the modeler
  - Practical application
  - Creating a raster data processing model
- Creating a vector data processing model
- Batch processing
- Various ways to share the model
- Conclusion

---

### Introduction to the Modeler

--v--

![Sauvegarde](assets/1_sauvegarde.png)

--v--

![Navigation](assets/2_navigation.png)

--v--

![Export](assets/3_export.png)

--v--

![Execution](assets/4_execution.png)

--v--

![Entrées](assets/5_entrees.png)

--v--

![Algorithmes](assets/6_algorithmes.png)

--v--

![Propriétés](assets/7_proprietes.png)

--v--

![Variables](assets/8_variables.png)

--v--

![Historique](assets/9_historique.png)

---

### Practical Application

Mission: Find the best locations for Maya the beekeeper's hives!

Help Maya, a beekeeper in Lavertezzo, find the perfect spots for her new hives.

![Maya](assets/maya_apicultrice.png)

--v--

#### Action Plan

1. Raster data analysis
   - Area exposure
2. Vector data analysis
Must meet the following conditions:
   - Maximum 50 meters from the forest
   - Maximum 100 meters from a public transport stop

---

#### Raster Data Analysis

Area exposure.

--v--

- Data : area, swissALTI3D
- Plugin : Swiss Geo Downloader

--v--

Download the "swissALTI3D" data for the area

![Swiss Geo Downloader](assets/swiss_geo_downloader_en.png)

--v--

##### Etapes du modèle

1. Name the model `exposure_raster`
2. Save the model in the project ![Save the model in the project](assets/enregistrer_dans_projet.png)
3. Add the GDAL algorithm "Merge"
   - Input layers: select the four tiles of swissALTI3D
4. Add the "aspect" algorithm
   - Under "Aspect" name it `exposure` (this will be the output layer name)
!["aspect" algorithm](assets/algorithme_exposition_en.png)

--v--

1. Add the "Apply Style" algorithm
   - Layer: change `Model Input` to `Algorithm Output`, set the value to "Exposure"  !["aspect" algorithm](assets/entree_modele_en.png)
   - Add an "File/Folder" input 
   - In the "Apply Style" algorithm, change "Style File" to `Model Input`, set the value to `style exposure`
2. Save the model in the project

**Result**

| Modeleur | Paramètres d'exécution |
|----------|------------------------|
| ![model result](assets/raster_resultat_modeleur_en.png) | ![Model Parameters](assets/raster_resultat_parametres_modeleur_en.png) |

---

#### Vector Data Analysis

Overlay of two buffer zones: 50 meters from the forest and 100 meters from public transport.

--v--

- Data : area, land cover, PT

--v--

##### Model Steps

1. Name the model `vector_process`
2. Save the model in the project ![Save the model in the project](assets/enregistrer_dans_projet.png)
3. Add a "Vector Layer" input
   - Description `Land Cover`
   - Geometry type `Polygon`
4. Add a "Vector Layer" input
   - Description `area`
   - Geometry type `Polygon`
5. Add a "Vector Layer" input
   - Description `PT`
   - Geometry type `Point`
6. Add the "Entity Filter" algorithm
   - Source layer: use `Model Input`, set the value to `Land Cover`
   - Output and filters: add an output with "Output Name" = `forest` and "Filter Expression" `"objektart" = 'Wald'` ![Algorithme filtre](assets/algorithme_filtre_en.png)

--v--

7. Add the "Clip" algorithm
   - Source layer: use `Algorithm Output`, set the value to `forest`
   - Overlay layer: use `Model Input`, set the value to `area`
8. Add the "Buffer" algorithm
   - Description: set the value to `Forest Buffer`
   - Source layer: use `Algorithm Output`, set the value to `Clipped`
   - Add a "Number" input, description `forest_buffer_size` ![Entrée nombre](assets/entree_nombre_en.png)
   - Distance: use `Model Input`, set the value to `forest_buffer_size`

--v--

1. Add the "Buffer" algorithm
   - Description: set the value to `PT Buffer`
   - Source layer: use `Model Input`, set the value to `PT`
   - Add a "Number" input, description `PT_buffer_size` 
   - Distance: use `Model Input`, set the value to `pt_buffer_size`
2. Add the "Intersection" algorithm
    - Source layer: use `Algorithm Output`, set the value to `Forest Buffer`
    - Overlay layer: use `Algorithm Output`, set the value to `PT Buffer`
    - ntersection: set `best_location`
3. Save

--v--

**Result**

| Modeleur | Paramètres d'exécution |
|----------|------------------------|
| ![model result](assets/vecteur_resultat_modeleur_en.png) | ![Model Parameters](assets/vecteur_resultat_parametres_modeleur_en.png) |

--v--

![graph result](assets/resultat_graphique.png)

---

### Batch Processing

Now that we have two tools, they can be executed on batch data.

- Batch processing allows running a model on multiple datasets automatically, without manual intervention between each execution.
- This is particularly useful for applying the same process to multiple files or geographic data layers.

--v--

#### How to Execute a Batch Process

1. Execute the tool
2. Click "Execute as batch process..." 
![Batch processing](assets/traitement_lot_en.png)

--v--

3. Add the information for different batches

![Batch processing](assets/traitement_lot_fenetre_en.png)

--v--

#### Advantages of Batch Processing

- **Efficiency** : Allows processing large amounts of data in a single operation.
- **Consistency** : Ensures the same parameters and methods are uniformly applied to all datasets.
- **Time-saving** : Reduces the time spent repeating the same steps manually for each file or layer.

---

### Various Ways to Share the Model

- Save in the project
  - It appears in the toolbox
![save in the project](assets/enregistrer_projet_situation_en.png)

   - Right-click to access several options  ![Right-click options](assets/modele_projet_clic_droit_en.png)

--v--

- Save the model as `model3` format ![Enregistrer sous format model3](assets/enregistrer_format.png)

--v--

- Export as a Python script  ![Export Python](assets/export_python.png)
  - Once exported, the script can no longer be used in the Modeler.
- Export as an image ![Export image](assets/export_image.png)
- Export as a PDF. (This is not working well) ![Export PDF](assets/export_pdf.png)
- Export as an SVG ![Export SVG](assets/export_svg.png) 

---

### Conclusion

QGIS Modeler is a powerful tool for automating and optimizing geospatial analyses.

It offers many advantages, including:

- **Task automation**
Simplify complex workflows by grouping multiple operations into a single model. Save time and reduce errors by automating repetitive tasks.
- **Increased efficiency and reproducibility**
Optimize your analyses and ensure consistent results using standardized models.
- **Flexibility and customization**
Adapt models to your specific needs using expressions, variables, and parameters.
- **Sharing and collaboration**
Facilitate sharing your models with others and encourage collaboration within your team.

          </textarea>
        </section>
      </div>
    </div>

    <script src="./dist/reveal.js"></script>

    <script src="./mermaid/dist/mermaid.min.js"></script>

    <script src="./plugin/markdown/markdown.js"></script>
    <script src="./plugin/highlight/highlight.js"></script>
    <script src="./plugin/zoom/zoom.js"></script>
    <script src="./plugin/notes/notes.js"></script>
    <script src="./plugin/math/math.js"></script>
    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        slideNumber: true,
        highlight: {
          highlightOnLoad: false
        },
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath
        ]
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"transition":"none","slideNumber":false,"overview":true,"autoPlayMedia":true,"_":["slides/"],"static":"web","listing-template":"../globals/index/index.html","listingTemplate":"../globals/index/index.html","title":"Qgis Modeler","css":"slides/stylesheets/base-theme.css,slides/stylesheets/base-white-theme.css,slides/stylesheets/logo_white.png,slides/stylesheets/opengisch-bright.css,slides/stylesheets/opengisch-dark.css,slides/stylesheets/pitch-theme.css,slides/stylesheets/softteaching-theme.css,slides/stylesheets/teaching-theme.css"}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
      Reveal.addEventListener('ready', function (event) {
        const blocks = Reveal.getRevealElement().querySelectorAll('pre code:not(.mermaid)');
        const hlp = Reveal.getPlugin('highlight');
        blocks.forEach(hlp.highlightBlock);
      });
    </script>

    <script>
      const mermaidOptions = extend({ startOnLoad: false }, {});
      mermaid.startOnLoad = false;
      mermaid.initialize(mermaidOptions);
      const cb = function (event) { mermaid.init(mermaidOptions, '.stack.present>.present pre code.mermaid'); };
      Reveal.addEventListener('ready', cb);
      Reveal.addEventListener('slidetransitionend', cb);
    </script>
  </body>
</html>
