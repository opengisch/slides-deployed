<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>MODELBAKER Workshop</title>
    <link rel="shortcut icon" href="./favicon.ico" />
    <link rel="stylesheet" href="./dist/reset.css" />
    <link rel="stylesheet" href="./dist/reveal.css" />
    <link rel="stylesheet" href="/_assets/theme/softteaching-theme.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/base16/zenburn.css" />


  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">

<!--.slide: data-background="./assets/title.png"-->
<h1 style="color: var(--opengisch-dark) !important; font-size:1.5em !important; text-align: center !important;">Workshop Zürich - 26. Januar 2023</h1>

![](./assets/modelbaker_logo_long.png)
<br><br><br><br><br><br>
<!-- .slide: data-background="assets/title.png" -->
</script></section><section ><section data-markdown><script type="text/template">
Let's start ...
# Was machen wir heute?

</script></section><section data-markdown><script type="text/template"> 

<h1 style="-webkit-text-stroke: 2px var(--opengisch-light) !important; color: steelblue !important;">Dave Signer</h1> 

## BSc in IT(SE) @ ZHAW
### Developer, Consultant, Coordinator
<h3 style=" color: lightgrey !important;">Teacher and Storyteller</h1>

<!-- Senior Developer - QGIS Core und Plugin Entwickler. Consultant auch im INTERLIS Bereich... -->

</script></section><section data-markdown><script type="text/template"> 

<h1 style="-webkit-text-stroke: 2px var(--opengisch-light) !important; color: steelblue !important;">Damiano Lombardi</h1> 

## BSc in Microtechnology @ BFH

### Senior Developer, Consultant
<h3 style=" color: lightgrey !important;">Teacher and Machine Vision Specialist</h1>

</script></section><section data-markdown><script type="text/template"> 

<h1 style="-webkit-text-stroke: 2px var(--opengisch-light) !important; color: steelblue !important;">Wer seid ihr?</h1> 

- Woher kommt ihr?
- Was arbeitet ihr hauptsächlich?
- QGIS Model Baker:
  - A. Was ist Model Baker?
  - B. Hab ich schon mal ausprobiert / damit gearbeitet. 
  - C. Bin eigentlich schon bisschen Profi.

</script></section><section data-markdown><script type="text/template"> 

### Ziele des Workshops

- INTERLIS Modelle in der Datenbank abbilden und Daten importieren / exportieren / validieren
- Wissen was Metaattribute, Behälter und Vererbungsstrategien etc. sind

</script></section><section data-markdown><script type="text/template">

### Programm (1)

|Zeit| Inhalt |
|-----| ------------------------------- |
|09.00| Einführung und Umgebung 🧑‍🏫 |
|10.00| Modell Import 👪 | 
|10.30| Metaattribute 🧑‍🏫 💻 |
|11.00| Pause |
|11.15| Vererbungen und Abbildung 🧑‍🏫 💻 |
|12.00| Zmittag |

</script></section><section data-markdown><script type="text/template">

### Programm (2)

|Zeit| Inhalt |
|-----| ------------------------------ |
|13.00| Daten Import und Export 👪<br>Behälter und Datasets 🧑‍🏫 💻 |
|13.45| Erfassung und Validierung 👪 💻 |
|15.15| Pause |
|15.30| UsabILIty Hub 🧑‍🏫 👪 💻 |
|16.30| Abschluss, Fragen und Anregungen |
</script></section></section><section ><section data-markdown><script type="text/template">
Kurze Einführung...

# Was ist Model Baker?

</script></section><section data-markdown><script type="text/template">

## Ein QGIS Projektgenerator

Schnelles **Erstellen eines QGIS-Projekts** aus einem physischen Datenmodell. 

Analysiert die vorhandene Struktur und konfiguriert ein QGIS-Projekt mit allen verfügbaren Informationen. 

</script></section><section data-markdown><script type="text/template">

## Ein für *INTERLIS* optimierter QGIS Projektgenerator

In INTERLIS definierte Modelle bieten **zusätzliche Metainformationen** wie Domänen, Einheiten von Attributen oder objektorientierte Definitionen von Tabellen.

Diese können genutzt werden, um die Projektkonfiguration weiter zu optimieren. 

<!-- Model Baker kann die Meta-Informationen nutzen, um den Layertree, Feld-Widgets mit Bedingungen, Formular-Layouts, Relationen und vieles mehr zu konfigurieren.-->

</script></section><section data-markdown><script type="text/template">

## Eine ili2db Kontrollstation

```
java -jar /home/dave/dev/opengisch/QgisModelBaker/QgisModelBaker/libili2db/bin/ili2pg-4.6.1/ili2pg-4.6.1.jar --schemaimport --dbhost localhost --dbport 5432 
--dbusr postgres --dbpwd ****** --dbdatabase bakery --dbschema adsfdsaf2 --setupPgExt --coalesceCatalogueRef --createEnumTabs --createNumChecks --createUnique 
--createFk --createFkIdx --coalesceMultiSurface --coalesceMultiLine --coalesceMultiPoint --coalesceArray --beautifyEnumDispName --createGeomIdx --createMetaInfo 
--expandMultilingual --createTypeConstraint --createEnumTabsWithId --createTidCol --importTid --smart2Inheritance --strokeArcs --defaultSrsCode 2056 
--models Wildruhezonen_LV95_V2_1
```

<!-- Es stellt dem Benutzer nur die notwendigen Einstellungen zur Verfügung, um Parameter an die ili2db zu übergeben.
Erzeugt das Kommando für ili2db.
-->

</script></section><section data-markdown><script type="text/template">

## Und es ist eine Library

Kann als Framework genutzt werden. So wie [Asistente LADM-COL](https://github.com/SwissTierrasColombia/Asistente-LADM-COL) es tut.

<!--erstellt für die [Kolumbianische Implementierung des Land Administration Domain Model (LADM)](https://www.proadmintierra.info/) -->

... und ist auch als Python Package verfügbar:

```none
pip install modelbaker
```
</script></section></section><section ><section data-markdown><script type="text/template">
# Wo finde ich was?

</script></section><section data-markdown><script type="text/template">

## Code Repositories
**QGIS Plugin**

https://github.com/opengisch/QgisModelBaker

**Code Repository Backend Library**

https://github.com/opengisch/QgisModelBakerLibrary

</script></section><section data-markdown><script type="text/template">

## Bug Reports und Feature Requests

https://github.com/opengisch/QgisModelBaker/issues

- Nachschauen
- Erfassen
  - Beschreibung des Problems
  - Zusätzliche Infos
- Warten oder finanzieren 😉

<!--
- Nachschauen - ob jemand dasselbe Problem schon hatte
- Erfassen - GitHub-Konto nötig (kostenlos)
  - Beschreibung des Problems - wenn möglich in Englisch, Deutsch geht aber auch
  - Zusätzliche Infos - Mit Printscreens oder Bildschirmaufzeichnung als GIF dokumentieren und falls möglich Beispieldaten
-->
</script></section><section data-markdown><script type="text/template">

## Dokumentation

![qr_docu](./assets/qr_docu.png)

https://opengisch.github.io/QgisModelBaker/
</script></section></section><section ><section data-markdown><script type="text/template">
Was wir alles brauchen...
# Umgebung

</script></section><section data-markdown><script type="text/template">

## INTERNET?

</script></section><section data-markdown><script type="text/template">

## QGIS und Datenbanken
- QGIS 3.22 oder höher
- PostgreSQL + PostGIS
- Geopackage möglich

</script></section><section data-markdown><script type="text/template">

### Extensions mit PgAdmin
- Extension hinzufügen: 
   - `postgis`
   - `uuid-ossp`

![extensions](./assets/pg_extensions.png)

<!-- + Datenbank erstellen -->

</script></section><section data-markdown><script type="text/template">

### Extensions mit PSQL
```none
$ psql -Upostgres -hlocalhost -dbakery

postgres=# CREATE DATABASE databasename;
 
postgres=# \connect databasename;

databasename=# CREATE EXTENSION postgis;
databasename=# CREATE EXTENSION uuid-ossp;

```

</script></section><section data-markdown><script type="text/template">

## Java

Habe ich Java installiert?
```none
java --version
```

&nbsp;

###### Download für Windows / Mac
Hier https://adoptium.net/de/

&nbsp;

##### Oder in Linux (openJDK)
```none
sudo apt-get install openjdk-18-jre 
```

</script></section><section data-markdown><script type="text/template">

## Demodaten Download
![qr_data](./assets/qr_data.png)
### Link: t.ly/JB6T

</script></section><section data-markdown><script type="text/template">

## Nutzdaten 

### https://geodienste.ch/

- **Kataster der belasteten Standorte**
- Spezifikation
- Version 1.5
- AtomFeed + OpenSearch Download-Dienst
- Download von **SH** und **TG**

</script></section><section data-markdown><script type="text/template">

## QGIS Model Baker

- Installiere Model Baker
- Installiere Swiss Locator

</script></section><section data-markdown><script type="text/template">

## Ready to go 🚀
</script></section></section><section ><section data-markdown><script type="text/template">
# Exkurse
... lasst uns abschweifen

</script></section><section data-markdown><script type="text/template">

## Exkurs 1: Metaattribute 

</script></section><section data-markdown><script type="text/template">

### Was sind Metaattribute?

Metaattribute erlauben eine Ergänzung der INTERLIS-Modelle mit **zusätzlichen Angaben**, die in der aktuellen Spezifikation von INTERLIS **nicht vorgesehen** sind.

*Siehe [eCH-0117 Meta-Attribute für INTERLIS-Modelle](https://ech.ch/de/ech/ech-0117/1.0)*

<!-- Es handelt sich dabei um eine spezielle Form eines Zeilenkommentars, der, an bestimmten Stellen im Datenmodell angebracht, zusätzliche Metainformationen zum Modell mitliefert.-->

</script></section><section data-markdown><script type="text/template">

###  Beispiel mit Model Baker (1)

Spezifische Display Expression für die Tabelle der Klasse `ZustaendigkeitsKataster`.

![metaattr_dispexp](./assets/metaattr_dispexp.png)

</script></section><section data-markdown><script type="text/template">

### Syntax im INTERLIS Modell

```none
!!@<name>=<value>
```
Gefolgt vom referenzierten Element (MODEL, TOPIC, CLASS etc.)

</script></section><section data-markdown><script type="text/template">

### Metaattribute vs. Kommentar

Ein Kommentar startet mit `!!` und endet mit einem Zeilenende.

Ein Metaattribut startet ebenso mit `!!` aber gefolgt von `@`

</script></section><section data-markdown><script type="text/template">

### Beispiel mit Model Baker (2)

Model Baker spezifisches Metaattribut:
```none
!!@dispExpression='<QGIS Expression>'
```

</script></section><section data-markdown><script type="text/template">


### Beispiel mit Model Baker (3)

Definition in Modell **KbS_V1_5**
<pre><code class="plaintext" data-line-numbers="5|5,6">MODEL KbS_V1_5 (de) =

  TOPIC Belastete_Standorte =

    !!@dispExpression = "'Nr: '|| uid ||' / '|| katastername"
    CLASS ZustaendigkeitKataster =
      [...]
</pre></code>

![metaattr_dispexp](./assets/metaattr_dispexp.png)

</script></section><section data-markdown><script type="text/template">

### Listen von Metaattributen

- [INTERLIS Compiler (ili2c) ](https://github.com/claeis/ili2c/blob/master/doc/ili2c.rst#interlis-metaattribute)
- [ili2db ](https://github.com/claeis/ili2db/blob/master/docs/ili2db.rst#interlis-metaattribute)
- [INTERLIS Validator (ilivalidator) ](https://github.com/claeis/ilivalidator/blob/master/docs/ilivalidator.rst#interlis-metaattribute)
- [INTERLIS Manager (ilimanager) ](https://github.com/claeis/ilimanager/blob/main/docs/ilimanager.rst#interlis-metaattribute)
- [QGIS Model Baker ](https://opengisch.github.io/QgisModelBaker/background_info/meta_attributes/)

*(unvollständig)*

</script></section><section data-markdown><script type="text/template">

### Metaattribute im Modell sind toll

Aber wir können doch nicht einfach am Modell rumbasteln!

</script></section><section data-markdown><script type="text/template">

### Extra Meta Attribute File

... a.k.a. "Konfigfile", "Metaattributefile", "INI-File", "TOML-File"...

<!-- Meistens kann man das Modell selbst nicht anpassen -->

***Eigentlich im Format INI aber wird meistens als `.toml` gespeichert.***

Nicht zu verwechseln mit ***Meta-Konfigurationsdatei*** um ili2db zu "steuern" (auch im Zusammenhang mit UsabILIty Hub).

</script></section><section data-markdown><script type="text/template">

#### Beispiel mit Model Baker

Definition in Konfigurationsdatei für **KbS_V1_5**
```INI
["KbS_V1_5.Belastete_Standorte.ZustaendigketKataster"]

dispExpression = "'Nr: '|| uid ||' / '||katastername"
```

![metaattr_dispexp](./assets/metaattr_dispexp.png)

</script></section><section data-markdown><script type="text/template">
### Validierungen steuern mit Metaattributen
Nur zur Info...
```ini
["KbS_V1_5.Standorte.Belasteter_Standort.Nr"]
# disable mandatory constraint of Katasternummer
multiplicity="off"

["KbS_V1_5.Standorte.Belasteter_Standort.Constraint1"]
msg = "Mind. eine Untersuchungsmassnahme erfassen."
```

</script></section><section data-markdown><script type="text/template">

### Was brauchen wir für KbS_V1_5?

- Multigeometrie konstruiert aus `STRUCTURE MultiPolygon`

- "Plattgewalzte Mehrsprachigkeit" auf `STRUCTURE MultilingualUri`

</script></section><section data-markdown><script type="text/template">

#### Das Mapping-Attribut

`ili2db.mapping`

- Auf Klasse oder Struktur
  
  *Strukturen werden anstatt mit Beziehungen mit Spalten abgebildet (zBs. Multi-Geometrie).*

- Auf Attribut
  
  *Strukturattribute (`BAG OF`/`LIST OF`) werden anstatt mit Beziehungen mit einem Datentyp abgebildet.*

<!-- Zeige was wir haben. -->

</script></section><section data-markdown><script type="text/template">

#### Definition im INTERLIS Modell

<pre><code class="plaintext" data-line-numbers="1-4|6-10">!!@ili2db.mapping=MultiSurface
STRUCTURE MultiPolygon =
  Polygones: BAG {1..*} OF PolygonStructure;
END MultiPolygon;

!!@ili2db.mapping=Multilingual
STRUCTURE MultilingualUri =
  LocalisedText : BAG {1..*} OF LocalisedUri;
  UNIQUE (LOCAL) LocalisedText: Language;
    END MultilingualUri;
</pre></code>

</script></section><section data-markdown><script type="text/template">

#### Definition im Extra Meta Attribute File
```INI
[KbS_V1_5.Belastete_Standorte.MultiPolygon]
ili2db.mapping = "MultiSurface"

[KbS_V1_5.Belastete_Standorte.MultilingualUri]
ili2db.mapping = "Multilingual"
```

</script></section><section data-markdown><script type="text/template">

## Ready für Übung 1 🚀

</script></section><section data-markdown><script type="text/template">

## Exkurs 2.1: Vererbungen in INTERLIS

<!-- auch wenn wir in diesem Kurs nicht zu sehr ins INTERLIS Modellieren gehen möchten, hier eine kurze Erklärung, wie man "vererbt"-->

</script></section><section data-markdown><script type="text/template">

### Was sind "Vererbungen"?

Erweitern einer Klasse (Basisklasse) in eine "verbesserte" Ableitung.

Eine erweiterte Klasse (Ableitung) hat **alle Eigenschaften** der Basisklasse **+ "mehr"**.

**"mehr"** heisst zusätzliche **Attribute** und **Beschränkungen**.

</script></section><section data-markdown><script type="text/template">

### Vererbung einer Klasse

|Basisklasse| Vererbung | Erweiterten Klasse (Abbild) |
|--------|--------|---------------------------------|
|![base_class](./assets/inherit_base_class.png) | ![extend_class](./assets/inherit_extend_class.png) | ![inherit_extended_class](./assets/inherit_extended_class.png) | 

<!-- Natürlich existiert das Abbild der erweiterten Klasse so nicht -->

</script></section><section data-markdown><script type="text/template">

#### Die Ableitung in INTERLIS (1)
...mit `EXTENDS`

```none
CLASS Building =
    Name : TEXT*20;
    Nr_of_Floors : MANDATORY 1 .. 100;
END Building;
```
&nbsp;
```none
CLASS Office_Building
    EXTENDS Building =
    Nr_of_Companies : MANDATORY 1 .. 200;
END CLASS Office_Building;
```
</script></section><section data-markdown><script type="text/template">

#### Die Ableitung in INTERLIS (2)
<!-- man könnte die Ableitung auch unter gleichem Namen machen (keine Mehrfachvererbung in demselben Topic) -->
...mit `EXTENDED`

```none
CLASS Building =
    Name : TEXT*20;
    Nr_of_Floors : MANDATORY 1 .. 100;
END Building;
```
&nbsp;
```none
CLASS Building (EXTENDED) =
    Nr_of_Companies : MANDATORY 1 .. 200;
END CLASS Building;
```

</script></section><section data-markdown><script type="text/template">

### Beispielmodell `Building_Smart_Parking`

<img src="./assets/inherit_erm_sample_model.png" height="100%">

</script></section><section data-markdown><script type="text/template">

#### Die Klassen in INTERLIS 


<pre><code class="plaintext" data-line-numbers="1-13|15-19|21-25|27-31">CLASS Building (ABSTRACT) =
  Name : TEXT*20;
  Number_of_Floors : MANDATORY 1 .. 100;
END Building;

CLASS Parking =
  Number : MANDATORY 1..999;
END Parking;

ASSOCIATION Parking_Building =
  Parking -- {0..*} Parking;
  Building -- {1} Building;
END Parking_Building;

!! Erste Erweiterung
CLASS Residential_Building
  EXTENDS Building =
  Number_of_Residents : MANDATORY 1 .. 1000;
END Residential_Building;

!! Zweite Erweiterung
CLASS Office_Building
  EXTENDS Building =
  Number_of_Companies : MANDATORY 1 .. 100;
END Office_Building;

!! Erweiterung der zweiten Erweiterung
CLASS Public_Office_Building
  EXTENDS Office_Building =
  Authority : MANDATORY TEXT*255;
END Public_Office_Building;
</code></pre>

</script></section><section data-markdown><script type="text/template">

## Ready für Übung 2 🚀

</script></section><section data-markdown><script type="text/template">

## Exkurs 2.2: Physische Abbildung von Vererbungen

<!-- Wie können Vererbungen physisch umgesetzt werden damit die Referentielle Integrität immer respektiert wird?-->

</script></section><section data-markdown><script type="text/template">

### Mal vornweg

> Versuchs mal mit Smart1 und wenns nicht gut aussieht mit Smart2. 
> 
> ***Zitat: Romedi Filli - 2022***

</script></section><section data-markdown><script type="text/template">

### Vererbungsmapping Strategien

- New Class
- Super Class
- Sub Class
- New+Sub Class

</script></section><section data-markdown><script type="text/template">

#### Beispielmodell

![sample_model](./assets/inherit_erm_sample_model.png)

</script></section><section data-markdown><script type="text/template">

#### New Class 

<!-- evtl. macht Sinn zur Erklärung: ![new_class_surreal_model](./assets/inherit_new_class_surreal.png)-->

<div class="container">
<div class="col">

```none
Building.t_type: (
    Residental_Building,
    Office_Building,
    Public_Office_Building
)
```
- Erweiterungen sind mit Beziehungen gemappt
- NOT NULL Bedingung wird eingehalten
- Mehrere Imports benötigt pro Objekt 

</div>
<div class="col" style="min-width: 400px">
<!-- not so nice to use pixel here - but I don't know currently a better sollution -->

![new_class_model](./assets/inherit_new_class.png)

</div>
</div>

</script></section><section data-markdown><script type="text/template">

#### Beispielmodell

![sample_model](./assets/inherit_erm_sample_model.png)

</script></section><section data-markdown><script type="text/template">

#### Super Class

<div class="container">
<div class="col">

```none
Building.t_type: (
    Residental_Building,
    Office_Building,
    Public_Office_Building
)
```

- Weniger Tabellen und Beziehungen (easy to use)
- NOT NULL Bedingung wird **nicht** eingehalten

</div>
<div class="col" style="min-width: 400px">
<!-- not so nice to use pixel here - but I don't know currently a better sollution -->

![super_class.png](./assets/inherit_super_class.png)

</div>
</div>

</script></section><section data-markdown><script type="text/template">

#### Beispielmodell

![sample_model](./assets/inherit_erm_sample_model.png)

</script></section><section data-markdown><script type="text/template">

#### Sub Class

<div class="container">
<div class="col">

```none
Public_Office_Building.t_type: (
    Office_Building,
    Public_Office_Building
)
```

- NOT NULL Bedingung wird **nicht** eingehalten

</div>
<div class="col" style="min-width: 400px">
<!-- not so nice to use pixel here - but I don't know currently a better sollution -->

![sub_class.png](./assets/inherit_sub_class.png)

</div>
</div>

</script></section><section data-markdown><script type="text/template">

#### Beispielmodell

![sample_model](./assets/inherit_erm_sample_model.png)

</script></section><section data-markdown><script type="text/template">

#### New + Sub Class

<div class="container">
<div class="col">

- Keine types
- IMO das erwartete Vorgehen
- NOT NULL Bedingung wird eingehalten

</div>
<div class="col" style="min-width: 400px">
<!-- not so nice to use pixel here - but I don't know currently a better sollution -->

![new_sub_class.png](./assets/inherit_new_sub_class.png)

</div>
</div>

</script></section><section data-markdown><script type="text/template">

### Smart Mapping in ili2db

</script></section><section data-markdown><script type="text/template">

#### noSmartMapping

- Alle Klassen werden mit der  *New Class* Strategie gemappt.

</script></section><section data-markdown><script type="text/template">

#### noSmartMapping

<div class="container">
<div class="col">

Resultiert in was wir sehen in der *New Class* Grafik.

</div>
<div class="col" style="min-width: 200px">
<!-- not so nice to use pixel here - but I don't know currently a better sollution -->

![new_class_model](./assets/inherit_new_class.png)

</div>
</div>

</script></section><section data-markdown><script type="text/template">

#### smart1Inheritance

- Abstrakte Klassen ohne Beziehungen -> *Sub Class* Strategie
- Abstrakte Klassen mit Beziehungen und keiner konkreten Super Klasse -> *New Class* Strategie
- Konkrete Klassen mit keiner konkreten Super Klasse -> *New Class* Strategie
- Alle anderen Klassen -> *Super Class* Strategie

</script></section><section data-markdown><script type="text/template">

#### smart1Inheritance

<div class="container">
<div class="col">

Heisst also `Building` nutzt *New Class* und alle andern *Super Class* Strategie. 

Resultiert in was wir sehen in der *Super Class* Grafik.

</div>
<div class="col" style="min-width: 200px">
<!-- not so nice to use pixel here - but I don't know currently a better sollution -->

![super_class](./assets/inherit_super_class.png)

</div>
</div>

</script></section><section data-markdown><script type="text/template">

#### smart2Inheritance
- Abstrakte Klassen -> *Sub Class* Strategie
- Alle konkreten Klassen  -> *New + Sub Class* Strategie

</script></section><section data-markdown><script type="text/template">

#### smart2Inheritance

<div class="container">
<div class="col">

Heisst also `Building` nutzt *Sub Class* und alle andern *New+Sub Class* Strategie. 

Resultiert in was wir sehen in der *New+Sub Class* Grafik.

</div>
<div class="col" style="min-width: 200px">
<!-- not so nice to use pixel here - but I don't know currently a better sollution -->

![new_sub_class](./assets/inherit_new_sub_class.png)

</div>
</div>

</script></section><section data-markdown><script type="text/template">

#### Zusammengefasst 
- smart 1 ↗️ 
- smart 2 ↘️ 

</script></section><section data-markdown><script type="text/template">

## Ready for Zmittag 🍲

</script></section><section data-markdown><script type="text/template">

## Exkurs 3: Behälter und Datasets

</script></section><section data-markdown><script type="text/template">

### Datasets
- Datensätze eines bestimmten **räumlichen oder thematischen** Bereichs
- **Unabhängig** des Modells (im Gegensatz zum Topic)
- Die Daten eines Datasets können unabhängig von den anderen Daten **verwaltet, validiert und exportiert** werden.

</script></section><section data-markdown><script type="text/template">

### Baskets (Behälter)

- Eine kleinere Instanz 
- Währenddem die Datasets meist das ganze Modell umfassen, sind die Behälter meist Teil eines Topics
- Meistens sind sie die Schnittmenge von Topic und Dataset

</script></section><section data-markdown><script type="text/template">

![baskets_datasets_nodatasets](./assets/baskets_datasets_nodatasets.png)

</script></section><section data-markdown><script type="text/template">

![baskets_datasets](./assets/baskets_datasets_nobaskets.png)

</script></section><section data-markdown><script type="text/template">

![baskets_datasets](./assets/baskets_datasets.png)

</script></section><section data-markdown><script type="text/template">

![baskets_datasets](./assets/baskets_datasets_structure.png)

</script></section><section data-markdown><script type="text/template">

![baskets_datasets](./assets/baskets_datasets_data.png)

</script></section><section data-markdown><script type="text/template">

![baskets_datasets](./assets/baskets_datasets_sh.png)

</script></section><section data-markdown><script type="text/template">

![baskets_datasets](./assets/baskets_datasets_tg.png)

</script></section><section data-markdown><script type="text/template">

![baskets_datasets](./assets/baskets_datasets_cat.png)

</script></section><section data-markdown><script type="text/template">

![baskets_datasets](./assets/baskets_datasets_baskets.png)

</script></section><section data-markdown><script type="text/template">

![baskets_datasets](./assets/baskets_datasets_final.png)

</script></section><section data-markdown><script type="text/template">

## Ready to go 🚀

</script></section><section data-markdown><script type="text/template">

## Exkurs 4: UsabILIty Hub

</script></section><section data-markdown><script type="text/template">

### Wofür ist UsabILIty Hub?

- Erhalten von Zusatzinformationen zu **INTERLIS Modellen** und ihre **(QGIS) Projekte** automatisch übers Web.

- Zusätzliche Konfigurationen **einmalig** gemacht und mehrfach verwendet.

<!-- Symbolisierung, Hindergrundkarten etc...-->

</script></section><section data-markdown><script type="text/template">

### Wie funktioniert UsabILIty Hub?

</script></section><section data-markdown><script type="text/template">

#### 1. Anwender:in wählt **Modell**

- Repositorien-übergreifende Suche nach **Metakonfigurationsfiles**.

- Finden der **Metakonfigurationsfiles** in den `ilidata.xml` auf UsabILItyHub (https://models.opengis.ch) oder eigenen Repositories.

<!-- Genauso wie wir INTERLIS Modelle über ein ilimodels.xml anhand von http://models.interlis.ch emfangen können.-->

</script></section><section data-markdown><script type="text/template">

#### 2. Metakonfigurationsfile wird geparst

Dort sind **Konfigurationen** für ili2db, Model Baker und andere Tools definiert.

Ebenso auch **Links** (Ids) zu:
- Katalogen
- Extra Meta Attribute File
- Toppingfiles

</script></section><section data-markdown><script type="text/template">

#### 3. Konfigurationen werden gesetzt

- ili2db: Smart-Mapping, Basket-Handling etc.

</script></section><section data-markdown><script type="text/template">

#### 4. Links werden aufgelöst

- Repositorien-übergreifende Suche der **Kataloge, Extra Meta Attribut File und Toppingfiles**

  **Toppingfiles** enthalten Informationen zu:
  - Symbologien und Formularkonfigurationen
  - Legendenlayout und Layer-Reihenfolge
  - Map Themes, Print Layouts
  - etc.

</script></section><section data-markdown><script type="text/template">

#### 5. Nutzen der Informationen

- Führe ili2db aus anhand der Konfigurationen und Extra Meta Attribut File
- Importiere die gefundenen Kataloge
- Generiere das Projekt anhand der Toppingfiles

</script></section><section data-markdown><script type="text/template">

### Ablauf

<!-- evtl. dies mal einheitlich mit excalidraw machen.-->

![uml](./assets/usabilityhub_uml.png)

</script></section><section data-markdown><script type="text/template">

### Dokumentation

Siehe https://usabilityhub.opengis.ch/

Oder die [Model Baker Dokumentation](https://opengisch.github.io/QgisModelBaker/background_info/usabilityhub/modelbaker_integration/)

</script></section><section data-markdown><script type="text/template">

## Ready to go 🚀
</script></section></section><section ><section data-markdown><script type="text/template">
# Übungen
... machen Meister:innen

</script></section><section data-markdown><script type="text/template">

## Übung 1: Erstellen eines benutzbaren Projektes
  - Erstellt ein Projekt für `KbS_V1_5` inklusive Extra Meta Attribut File
  - Fügt eine Hintergrundkarte hinzu

</script></section><section data-markdown><script type="text/template">

## Übung 2: Smart Inheritance Mapping

- Importiere das Modell `Building_Smart_Parking`
    - Ohne Basket Column
    - **Smart1Inheritance**
- Umbenennen der Layer zu `<layername>_Smart1`
- Importiere das Modell `Building_Smart_Parking`
    - Ohne Basket Column
    - **Smart2Inheritance**

<!-- Was ist der Unterschied?-->

</script></section><section data-markdown><script type="text/template">

## Übung 3: Erfassen in Datasets
- Erstelle das Projekt mit Datasets für TG und SH (sofern noch nicht gemacht)
- Füge ein Gebiet in Stein am Rhein TG zu.
- Erfasse ein Gebiet in SH
- Erstelle ein neuer Dataset für ZH
- Erfasse ein Gebiet in ZH

</script></section><section data-markdown><script type="text/template">

## Übung 4: Export
- Exportiere alle Daten in eine Transferdatei (inkl. Codelists)
- Exportiere nur die Nutzdaten von SH in eine Transferdatei

</script></section><section data-markdown><script type="text/template">

## Übung 5: UsabILItyHub
- Konfiguriere ein beliebiges Projekt
- Exportiere die Toppings
- Importiere das Model zusammen mit den Toppings vom lokalen Repo
</script></section></section><section  data-markdown><script type="text/template">
<h1 style="-webkit-text-stroke: 2px var(--opengisch-dark) !important; color: lightgray !important; font-size:4.5em !important">PAUSE</h1>

<!-- .slide: data-background="./assets/pause.jpg" -->
</script></section><section ><section data-markdown><script type="text/template">
Eine Gruppe verschiedener Interessenten...
# Model Baker Group

</script></section><section data-markdown><script type="text/template">

## Projektteam

- Romedi Filli, Kanton SH (Leitung)
- Manuel Kaufmann, Agroscope
- Pascal Megert, Kanton AI
- Andreas Neumann, Kanton SO
- David Signer, OPENGIS.ch

</script></section><section data-markdown><script type="text/template">

## Finanzierung

</script></section><section data-markdown><script type="text/template">

## Jährlicher Beitrag mit Abstufungen 
(ab Förderer mit Supportstunden inklusive):
- Visionär
- Förderer
- Unterstützer
- Gönner

</script></section><section data-markdown><script type="text/template">

## Projektbezogen 

![projektbezogen](./assets/projektbezogene_finanzierung.png)
</script></section></section><section  data-markdown><script type="text/template">
<h1 style="-webkit-text-stroke: 2px var(--opengisch-dark) !important; color: lightgray !important; font-size:4.5em !important">Fragen?</h1>

<!-- .slide: data-background="./assets/fragen.png" -->
</script></section><section  data-markdown><script type="text/template">
### Das wars...
#### Web: www.opengis.ch
#### Email: david@opengis.ch
#### Github: github.com/signedav
#### Mastodon: @signedav@techhub.social
</script></section></div>
    </div>

    <script src="./dist/reveal.js"></script>

    <script src="./plugin/markdown/markdown.js"></script>
    <script src="./plugin/highlight/highlight.js"></script>
    <script src="./plugin/zoom/zoom.js"></script>
    <script src="./plugin/notes/notes.js"></script>
    <script src="./plugin/math/math.js"></script>
    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        slideNumber: true,
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath
        ]
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"transition":"none","slideNumber":false,"overview":true,"autoPlayMedia":true}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
